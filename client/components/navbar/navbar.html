<div class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" ng-click="$ctrl.isCollapsed = !$ctrl.isCollapsed">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">{{$ctrl.application.name}}</a>
    </div>

    <div ng-if="$ctrl.application.show" uib-collapse="$ctrl.isCollapsed" class="navbar-collapse collapse" id="navbar-main">
      <ul class="nav navbar-nav">
        <li ng-repeat="item in $ctrl.application.menuLeft" ui-sref-active="active">
          <a ng-if="item.show" ng-click="$ctrl.activeCollapsed();" ui-sref="{{item.state}}">{{item.title}}</a>
        </li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <!--li ng-hide="$ctrl.isLoggedIn()" ui-sref-active="active">
          <a ui-sref="signup" ng-click="$ctrl.activeCollapsed();">
            <i class="fa fa-edit fa-fw" aria-hidden="true"></i> Cadastra-se</a>
        </li>
        <li ng-hide="$ctrl.isLoggedIn()" ui-sref-active="active">
          <a ui-sref="login" ng-click="$ctrl.activeCollapsed();">
            <i class="fa fa-sign-in" aria-hidden="true"></i> Entrar</a>
        </li-->
        <li ng-repeat="item in $ctrl.application.menuRight" ui-sref-active="active">
          <a ng-if="item.show" ng-click="$ctrl.activeCollapsed();" ui-sref="{{item.state}}">
            <i class="fa fa-fw {{item.icon}}" ng-if="item.icon" aria-hidden="true"></i> {{item.title}}</a>
        </li>
        <!--li ng-show="$ctrl.isLoggedIn()">
          <a ui-sref="perfil" ng-click="$ctrl.activeCollapsed();">
            <i class="fa fa-user-circle" aria-hidden="true"></i>
             {{ $ctrl.getCurrentUser().nome }}</a>
        </li-->
        <li ng-show="$ctrl.isLoggedIn()" class="dropdown" uib-dropdown>
          <a href="#" class="dropdown-toggle" uib-dropdown-toggle data-toggle="dropdown"
            role="button" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-user-circle" aria-hidden="true"></i>
            {{ $ctrl.getCurrentUser().nome }}&nbsp;&nbsp; <i class="fa fa-chevron-down" aria-hidden="true"></i>
          </a>
          <ul class="dropdown-menu" uib-dropdown-menu>
            <li>
              <a ui-sref="perfil" ui-sref-active="active" ng-click="$ctrl.activeCollapsed();">
                <dl class="text-muted">
                  <dt>
                    <br/>
                    <i class="fa fa-user-circle fa-fw fa-2x"></i>
                    {{ $ctrl.getCurrentUser().nome }} {{ $ctrl.getCurrentUser().sobrenome }}
                  </dt>
                  <dd><p class="text-left"><small>{{ $ctrl.getCurrentUser().username  }}</small></p></dd>
                </dl>
              </a>
            </li>
            <li class="divider"></li>
            <li>
              <a ui-sref="settingspassword" ui-sref-active="active" ng-click="$ctrl.activeCollapsed();">
                <i class="fa fa-unlock-alt fa-fw" aria-hidden="true"></i> Trocar senha
              </a>
            </li>
            <li>
              <a ui-sref="settings" ui-sref-active="active" ng-click="$ctrl.activeCollapsed();">
                <i class="fa fa-gear fa-fw" aria-hidden="true"></i> Configuração
              </a>
            </li>
            <li class="divider"></li>
            <li>
              <a ui-sref="logout" aria-hidden="true" >
                <i class="fa fa-sign-out fa-fw"></i> Sair
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>
